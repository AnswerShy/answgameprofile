<html>
    <head>
        <meta charset="utf-8">
        <title>Game Profile</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <video class="BG" autoplay muted loop>
            <source src="https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/items/782250/ac4066bce25e71861877c1ced38ec7ee5c59e744.webm" type="video/webm">
        </video>

        <header>
            <img class="pfp" src="https://avatars.akamai.steamstatic.com/c87e6c59959466d5f5d6f13b99fb14b6f9fa5211_full.jpg">
            <div class="pName"><p><a href="https://steamcommunity.com/id/frnj1/">ShyOwl profile</a></p></div>
            <div class="pInfo">
                <img class="badgeImg" src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/items/555670/411d3026f4a4bbbdbb817829f9fd4128ea06cf3c.png">
                <p class="badgeName">Energy</p>
                <p class="badgeDesc">100XP</p>
            </div>
        </header>

        <main>
            <!--Worms:A-->
            <section class="block" id="wormsBlock">
                <div class="blockBG">
                    <iframe class="bgVideo" id="WAVid" src="https://www.youtube-nocookie.com/embed/2c8BVUb9sxY?autoplay=0" frameborder="0" allow="autoplay;"></iframe>
                </div>
                <div class="blockInfo" id="WAInfoBlock">
                    <p class="blockDesc">Worms Armageddon</p>
                    <a href="cfg/wa/wormsFullHDPatch.7z"><button class="buttonCfg" id="wapatch">Download W:A FullHD Patch</button></a>
                    <p class="tip" id="waPatchTip" style="display: none;">*All files copy to game folder*</p>
                    <a href="cfg/wa/TeamED.zip"><button class="buttonCfg" id="wapatch">Download TeamED</button></a>
                </div>
            </section>
            <!-- DOTA -->
            <section class="block">
                <div class="blockBG" id="dotaBG">
                    <iframe class="bgVideo" id="dotaVid" src="https://www.youtube-nocookie.com/embed/_yBAYVaHCV4?autoplay=0" frameborder="0" allow="autoplay;"></iframe>
                </div>
                <div class="blockInfo" id="dotaInfoBlock">
                    <p class="blockDesc">DotA cfg</p>
                    <button class="buttonCfg" id="dotaBut">show config</button>
                    <iframe class="config" src="cfg/dota.html" id="dotaCfg" style="height: 0vh;"></iframe>
                    <button class="buttonCfg" id="dotaCfgCopy">Copy cfg</button>
                </div>
            </section>
            <!-- CS:GO -->
            <section class="block" id="csBlock" style="top: 40%; display: none;">
                <div class="blockBG"></div>
                <div class="blockInfo">
                    <p>CS:GO cfg</p>
                    <button class="buttonCfgCloseOpen" id="csBut">show config</button>
                    <iframe class="config" src="cfg/cs.html" id="csCfg" style="height: 0vh;"></iframe>
                </div>
            </section>
        </main>
        
    </body>
    <script>
        //For All
        function playBG(game) {
            let gameSel = game + 'Vid'
            var bvideo = document.getElementById(gameSel)
            console.log(gameSel, 'is playng')
            bvideo.src = bvideo.src.replace('autoplay=0', 'autoplay=1')
        }

        function pauseBG(game) {
            let gameSel = game + 'Vid'
            var bvideo = document.getElementById(gameSel)
            console.log(gameSel, 'is`nt playng')
            bvideo.src = bvideo.src.replace('autoplay=1', 'autoplay=0')
        }



        //CS:GO
        document.getElementById('csBut').addEventListener('click', () => {
            if (document.getElementById('csCfg').style.height == '0vh') {
                document.getElementById('csCfg').style.height = 'calc(var(--panelHeight) - 30vh)'
            }
            else {document.getElementById('csCfg').style.height = '0vh'}
        })

        //DOTA
        document.getElementById('dotaBut').addEventListener('click', () => {
            if (document.getElementById('dotaCfg').style.height == '0vh') {
                document.getElementById('dotaBG').style.height = 'calc(var(--blockHeight) + 40vh)'
                document.getElementById('dotaCfg').style.height = 'calc(var(--panelHeight) - 30vh)'
            }
            else {
                document.getElementById('dotaBG').style.height = 'calc(var(--blockHeight)'
                document.getElementById('dotaCfg').style.height = '0vh'
            }
        })

        document.getElementById('dotaCfgCopy').addEventListener('click', () => {
            let a = document.getElementById('dotaCfg').contentWindow.clickToCopy()
        })

        document.getElementById('dotaInfoBlock').addEventListener('mouseenter', () => {playBG('dota')})
        document.getElementById('dotaInfoBlock').addEventListener('mouseleave', () => {pauseBG('dota')})

        //WA
        document.getElementById('wapatch').addEventListener('click', () =>{
            document.getElementById('waPatchTip').style.display = 'inline';
        })
        document.getElementById('WAInfoBlock').addEventListener('mouseenter', () => {playBG('WA')})
        document.getElementById('WAInfoBlock').addEventListener('mouseleave', () => {pauseBG('WA')})
    </script>
</html>